{"version":3,"sources":["App.js","index.js"],"names":["App","state","columns","field","label","rows","input","getMovies","fetch","method","then","res","json","movies","forEach","item","push","id","_id","title","year","genre","delete","react_default","a","createElement","mdbreact_esm","onClick","_this","deleteMovie","setState","catch","err","console","error","addMovie","body","JSON","stringify","headers","Content-Type","ok","updateInput","value","concat","this","Fragment","striped","bordered","hover","data","getValue","disabled","length","React","Component","ReactDOM","render","BrowserRouter","src_App_0","document","getElementById"],"mappings":"yQAiGeA,oNA5FbC,MAAQ,CACNC,QAAS,CACP,CACEC,MAAO,QACPC,MAAO,SAET,CACED,MAAO,OACPC,MAAO,QAET,CACED,MAAO,QACPC,MAAO,SAET,CACED,MAAO,SACPC,MAAO,WAGXC,KAAM,GACNC,MAAO,MAOTC,UAAY,WACVC,MAAM,8CAA+C,CACnDC,OAAQ,QAEPC,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBF,KAAK,SAAAE,GACJ,IAAIP,EAAO,GACXO,EAAKC,OAAOC,QAAQ,SAAAC,GAAI,OAAIV,EAAKW,KAAK,CACpCC,GAAIF,EAAKG,IACTC,MAAOJ,EAAKI,MACZC,KAAML,EAAKK,KACXC,MAAON,EAAKM,MACZC,OAAQC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQC,QAAS,kBAAMC,EAAKC,YAAYd,EAAKG,OAA7C,SAGVU,EAAKE,SAAS,CAAEzB,WAEjB0B,MAAM,SAAAC,GAAG,OAAIC,QAAQC,MAAMF,QAGhCG,SAAW,WACT3B,MAAM,8CAA+C,CACnDC,OAAQ,OACR2B,KAAMC,KAAKC,UAAU,CACnBnB,MAAOS,EAAK3B,MAAMK,QAEpBiC,QAAS,CACPC,eAAgB,sBAGjB9B,KAAK,SAAAC,GACAA,EAAI8B,IAAIb,EAAKrB,cAElBwB,MAAM,SAAAC,GAAG,OAAIC,QAAQC,MAAMF,QAGhCU,YAAc,SAACC,GAAD,OAAWf,EAAKE,SAAS,CAAExB,MAAOqC,OAEhDd,YAAc,SAACZ,GACbT,MAAK,+CAAAoC,OAAgD3B,GAAM,CACzDR,OAAQ,WAEPC,KAAK,SAAAC,GACAA,EAAI8B,IAAIb,EAAKrB,cAElBwB,MAAM,SAAAC,GAAG,OAAIC,QAAQC,MAAMF,yFAhD9Ba,KAAKtC,6CAoDL,OACEgB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAsB,SAAA,KACEvB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACEqB,SAAO,EACPC,UAAQ,EACRC,OAAK,EACLC,KAAM,CAAEhD,QAAS2C,KAAK5C,MAAMC,QAASG,KAAMwC,KAAK5C,MAAMI,QAGxDkB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUiB,MAAOE,KAAK5C,MAAMK,MAAO6C,SAAUN,KAAKH,YAAatC,MAAM,uBACrEmB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQC,QAASkB,KAAKV,SAAUiB,UAAWP,KAAK5C,MAAMK,MAAM+C,QAA5D,oBAvFUC,IAAMC,YCIxBC,IAASC,OACLlC,EAAAC,EAAAC,cAACiC,EAAA,EAAD,KACInC,EAAAC,EAAAC,cAACkC,EAAD,OAEJC,SAASC,eAAe","file":"static/js/main.0d57f127.chunk.js","sourcesContent":["import React from \"react\";\nimport { MDBDataTable, MDBBtn, MDBInput } from \"mdbreact\";\nimport './App.css';\n\nclass App extends React.Component {\n  state = {\n    columns: [\n      {\n        field: 'title',\n        label: 'Title'\n      },\n      {\n        field: 'year',\n        label: 'Year'\n      },\n      {\n        field: 'genre',\n        label: 'Genre'\n      },\n      {\n        field: 'delete',\n        label: 'Delete'\n      }\n    ],\n    rows: [],\n    input: ''\n  }\n\n  componentDidMount() {\n    this.getMovies();\n  }\n\n  getMovies = () => {\n    fetch(\"https://man-movies-api.herokuapp.com/movies\", {\n      method: \"GET\",\n    })\n      .then(res => res.json())\n      .then(json => {\n        let rows = [];\n        json.movies.forEach(item => rows.push({\n          id: item._id,\n          title: item.title,\n          year: item.year,\n          genre: item.genre,\n          delete: <MDBBtn onClick={() => this.deleteMovie(item._id)}>X</MDBBtn>\n        }));\n\n        this.setState({ rows });\n      })\n      .catch(err => console.error(err));\n  }\n\n  addMovie = () => {\n    fetch(\"https://man-movies-api.herokuapp.com/movies\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        title: this.state.input\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n      .then(res => {\n        if (res.ok) this.getMovies();\n      })\n      .catch(err => console.error(err));\n  }\n\n  updateInput = (value) => this.setState({ input: value });\n\n  deleteMovie = (id) => {\n    fetch(`https://man-movies-api.herokuapp.com/movies/${id}`, {\n      method: \"DELETE\"\n    })\n      .then(res => {\n        if (res.ok) this.getMovies();\n      })\n      .catch(err => console.error(err));\n  }\n\n  render() {\n    return (\n      <>\n        <MDBDataTable\n          striped\n          bordered\n          hover\n          data={{ columns: this.state.columns, rows: this.state.rows }}\n        />\n\n        <MDBInput value={this.state.input} getValue={this.updateInput} label=\"Insert movie title\" />\n        <MDBBtn onClick={this.addMovie} disabled={!this.state.input.length}>Add item</MDBBtn>\n      </>\n    );\n  }\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport 'bootstrap-css-only/css/bootstrap.min.css';\nimport 'mdbreact/dist/css/mdb.css';\nimport App from './App';\n\nReactDOM.render(\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>,\n    document.getElementById('root')\n);"],"sourceRoot":""}